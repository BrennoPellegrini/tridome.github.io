<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" sizes="57x57" href="../ico/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="../ico/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="../ico/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="../ico/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="../ico/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="../ico/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="../ico/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="../ico/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="../ico/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="../ico/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../ico/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="../ico/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../ico/favicon-16x16.png">
  <link rel="manifest" href="../ico/manifest.json">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-TileImage" content="../ico/ms-icon-144x144.png">
  <meta name="theme-color" content="#000000">
  <title>Tridome</title>
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>
  <script src="../js/video-controls.js"></script>
</head>

<style>

      body {
        background-color: #000;
      }

      .close-eyes {
        background-color: #000;
        position: absolute;
        height: 100vh;
        width: 100vw;
        z-index: 100;
      }

</style>

<body>

    <div class="close-eyes"></div>

    <a-scene>

        <a-assets>
          <!--- IMG --->
          <img id="info" src="../img/ambiente1/info.jpg">
          <img id="play1" src="../img/ambiente1/video1.jpg">
          <img id="play2" src="../img/ambiente1/video2.jpg">
          <img id="linkHome" src="../img/link/icona_home.png">
          <img id="wideScreenIcon" src="../img/link/wide_screen.jpg">
          <img id="smallScreenIcon" src="../img/link/small_screen.jpg">
          <img id="hide" src="../img/link/hide.png">
          <!--- VID --->
          <video id="bg" src="../video/bg.mp4"></video>
          <video id="video1" src="../video/ambiente1/video1.mp4"></video>
          <video id="video2" src="../video/ambiente1/video2.mp4"></video>
          <!-- SOUND  -->
          <audio id="bg_sound" src="../audio/ambiente1.mp3" loop></audio>
        </a-assets>

        <!-- Inserisco il cursore -->
        <a-entity camera look-controls>
          <a-entity id="cursore"
                    raycaster="objects: .clickable"
                    material="color: #fff"
                    cursor="fuse: true; fuseTimeout: 1400"
                    geometry="primitive: ring; radius-inner:0.003; radius-outer: 0.007"
                    position="0 0 -1"
                    animation__fuse1="startEvents: fusing; property: geometry.radiusInner; dur: 300;
                                      easing: easeInSine; to: 0.014;"
                    animation__fuse2="startEvents: fusing; property: geometry.radiusOuter; dur: 300;
                                      easing: easeInSine; to: 0.018;"
                    animation__fuse3="startEvents: fusing; property: geometry.radiusInner; delay:300; dur: 1100;
                                      easing: easeInSine; from:0.014; to: 0;"
                    animation__click1="startEvents: click; property: geometry.radiusInner; dur: 10;
                                      easing: easeInSine; from:0; to: 0.003;"
                    animation__click2="startEvents: click; property: geometry.radiusOuter; dur: 10;
                                       easing: easeInSine; from: 0.018; to: 0.007;"
                    animation__mouseleave1="startEvents: mouseleave; property: geometry.radiusInner; dur: 300;
                                       easing: easeInSine; to: 0.004;"
                    animation__mouseleave2="startEvents: mouseleave; property: geometry.radiusOuter; dur: 300;
                                       easing: easeInSine; from: 0.0071; to: 0.007;"
                    ></a-entity>
        </a-entity>

        <!-- Content of the page -->
        <a-sound id="bg-sound" src="#bg_sound"></a-sound>

        <a-entity id="content">

          <!-- Sinistra -->
          <a-plane src="#info" width="1.8" height="1.8" position="-3.79 0.33 -3.14" rotation="0 45 0"></a-plane>
          <a-plane id="info-box" color="#000" width="4" height="3" position="-4.19 0 -3.48" rotation="0 45 0"></a-plane>
          <a-text value="Fat-One Trento" align="center" width="4.7" position="-4.17 -0.78 -3.46" rotation="0 45 0"></a-text>

          <!-- Centro -->
          <a-entity id="video-instruction">
            <a-text value="Seleziona un video " align="center" width="4.7" position="0 0 -4.99"></a-text>
            <a-triangle color="#fff" scale="0.11 0.11 0.11" position="1.05 -0.022 -4.99" rotation="0 0 -90"></a-triangle>
          </a-entity>
          <a-video id="wide-screen" color="#111" width="5" height="3" position="0 0 -5"></a-video>
          <!-- Controlli video -->
          <a-entity id="flat-screen-video-controls"></a-entity>
          <!-- Link di ritorno -->
          <a-circle id="link" class="clickable" shader="flat" src="#linkHome" radius="0.65" position="0 8.8 -7" rotation="60 0 0"></a-circle>
          <a-text value="HOME PAGE" align="center" color="#fff" width="6" position="0 7.8 -5" rotation="60 0 0"></a-text>

          <!-- Destra -->
          <!-- IMG con link Video -->
          <a-plane class="video1 clickable" src="#play1" width="1.4" height="1.34" position="3.5 0.83 -4.45" rotation="0 -45 0" onclick="changeVideo(this)"></a-plane>
          <a-plane class="video2 clickable" src="#play2" width="1.4" height="1.34" position="3.5 -0.83 -4.45" rotation="0 -45 0" onclick="changeVideo(this)"></a-plane>
          <!-- Text  -->
          <a-text value="Francesco Mongillo" align="left" width="7.7" position="3.9 0.75 -3.46" rotation="0 -55 0"></a-text>
          <a-text value="Federico Barnaba" align="left" width="7.7" position="3.9 -0.75 -3.46" rotation="0 -55 0"></a-text>
        </a-entity>

        <!-- Full screen || Small screen -->
        <a-circle id="hide-button" src="#hide" radius="0.6" position="0 0.2 -4.98" onclick="hideControls()"></a-circle>
        <a-circle id="screen-button" class="clickable" src="#wideScreenIcon" radius="0.2" position="2.1 -1.15 -4.98" onclick="setVideoSize()"></a-circle>

        <!-- riduci video -->
        <a-entity id="wide-video-screen">
          <!-- controlli video -->
          <a-entity id="sphere-screen-video-controls">
              <a-entity video-controls="src:#video2"></a-entity>
          </a-entity>
        </a-entity>


        <!-- Cilindro con click event per mostrare scena -->
        <a-cylinder id="videoPlaceholder" opacity="0" radius="9" height="20" theta-length="360" side="back"></a-cylinder>
        <!-- A-sky -->
        <a-sky phi-start="90" src="#bg"></a-sky>

    </a-scene>
    <script src="../js/app.js"></script>

</body>
</html>
